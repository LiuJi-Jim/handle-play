var q=Object.defineProperty,R=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var A=(s,e,t)=>e in s?q(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,y=(s,e)=>{for(var t in e||(e={}))P.call(e,t)&&A(s,t,e[t]);if(j)for(var t of j(e))W.call(e,t)&&A(s,t,e[t]);return s},g=(s,e)=>R(s,Z(e));import{o,c,a as r,d as b,r as z,b as Y,w as K,e as w,f as x,g as _,u as n,t as k,h as $,n as I,V as G,N as J,i as Q,j as U,k as E,l as L,m as X,F as C,p as F,q as B,s as ee,v as te,x as N,y as se}from"./vendor.372075ce.js";const ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))u(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}};ne();const ae={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},le=r("path",{fill:"currentColor",d:"M19 17h3l-4 4l-4-4h3V3h2M2 17h10v2H2M6 5v2H2V5m0 6h7v2H2v-2Z"},null,-1),oe=[le];function re(s,e){return o(),c("svg",ae,oe)}var ie={name:"mdi-sort-ascending",render:re};const ce={class:"flex items-center gap-2"},ue=U(" \u641C\u51FA\u6765\u8FD9\u4E9B "),de={key:0,class:"text-gray-700/50"},he={class:"h-[44px] flex items-center justify-center gap-1"},fe={class:"text-gray-700/50"},pe={key:1,class:"pt-10 text-center text-base text-gray-500/80"},ve=b({props:{result:null},setup(s){const e=s,t=z({show:!1,sort:!1}),u=Y(()=>{if(!e.result)return[];if(t.sort){const a=[...e.result];return a.sort((l,d)=>-(l.freq-d.freq)),a}else return e.result});return K(()=>e.result,a=>{a&&(t.show=!0)},{immediate:!0}),(a,l)=>{const d=ie;return o(),w(n(Q),{show:n(t).show,"onUpdate:show":l[1]||(l[1]=p=>n(t).show=p),width:320},{default:x(()=>[_(n(J),{closable:"","body-content-style":{padding:0}},{header:x(()=>[r("div",ce,[ue,n(u).length>0?(o(),c("span",de," ("+k(n(u).length)+") ",1)):$("",!0),r("button",{class:"icon-btn",onClick:l[0]||(l[0]=p=>n(t).sort=!n(t).sort)},[_(d,{class:I(["w-5 h-5",{" text-green-500":n(t).sort}])},null,8,["class"])])])]),default:x(()=>[n(u).length>0?(o(),w(n(G),{key:"word","item-size":44,items:n(u),class:"mt-2 text-center max-h-full"},{default:x(({item:p})=>[r("div",he,[r("span",null,k(p.word),1),r("span",fe," ("+k(p.freq)+") ",1)])]),_:1},8,["items"])):(o(),c("div",pe," \u5565\u4E5F\u6CA1\u6709\uFF08\u8FD9\u4E0D\u662F\u6210\u8BED\uFF09 "))]),_:1})]),_:1},8,["show"])}}}),O="b p m f d t n l g k h j q r x w y zh ch sh z c s".split(" "),S="a ai an ang ao e ei en eng er i ia ian iang iao ie in ing io iong iu o ong ou u ua uai uan uang ui un uo v van ve vn".split(" "),_e={viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xe={key:0,d:"M3.35 8C2.60442 8 2 8.60442 2 9.35V10.35C2 11.0956 2.60442 11.7 3.35 11.7H17.35C18.0956 11.7 18.7 11.0956 18.7 10.35V9.35C18.7 8.60442 18.0956 8 17.35 8H3.35Z",fill:"currentColor"},me={key:1,d:"M16.581 3.71105C16.2453 3.27254 15.6176 3.18923 15.1791 3.52498L3.26924 12.6439C2.83073 12.9796 2.74743 13.6073 3.08318 14.0458L4.29903 15.6338C4.63478 16.0723 5.26244 16.1556 5.70095 15.8199L17.6108 6.70095C18.0493 6.3652 18.1327 5.73754 17.7969 5.29903L16.581 3.71105Z",fill:"currentColor"},ye={key:2,d:"M1.70711 7.70712C1.31658 7.3166 1.31658 6.68343 1.70711 6.29291L2.41421 5.5858C2.80474 5.19528 3.4379 5.19528 3.82843 5.5858L9.31502 11.0724C9.70555 11.4629 10.3387 11.4629 10.7292 11.0724L16.2158 5.5858C16.6064 5.19528 17.2395 5.19528 17.63 5.5858L18.3372 6.29291C18.7277 6.68343 18.7277 7.3166 18.3372 7.70712L10.7292 15.315C10.3387 15.7056 9.70555 15.7056 9.31502 15.315L1.70711 7.70712Z",fill:"currentColor"},ge={key:3,d:"M4.12282 3.71105C4.45857 3.27254 5.08623 3.18923 5.52474 3.52498L17.4346 12.6439C17.8731 12.9796 17.9564 13.6073 17.6207 14.0458L16.4048 15.6338C16.0691 16.0723 15.4414 16.1556 15.0029 15.8199L3.09303 6.70095C2.65452 6.3652 2.57122 5.73754 2.90697 5.29903L4.12282 3.71105Z",fill:"currentColor"},D=b({props:{tone:null},setup(s){return(e,t)=>(o(),c("svg",_e,[s.tone===1?(o(),c("path",xe)):$("",!0),s.tone===2?(o(),c("path",me)):$("",!0),s.tone===3?(o(),c("path",ye)):$("",!0),s.tone===4?(o(),c("path",ge)):$("",!0)]))}}),Ce={class:"w-20 flex flex-col justify-center gap-2"},ke={class:"flex items-center justify-center"},be={class:"h-6 px-2 btn",tabindex:"-1"},$e={key:0,class:"text-xs text-gray-500/70"},we={class:"flex items-center justify-space-between gap-1"},Le={class:"h-6 flex-[1] btn",tabindex:"-1"},Fe={key:0,class:"text-xs text-gray-500/70"},ze={key:1},Ue={class:"h-6 flex-[2] btn",tabindex:"-1"},Me={key:0,class:"text-xs text-gray-500/70"},Ee={key:1},Ne=["value"],Ve=b({props:{value:null},emits:["update:value"],setup(s,{emit:e}){const t=s,u=z({compositing:!1}),a=h=>h.map(f=>({value:f,label:f})),l=h=>{const f=h.value;return f===""?L("div",{innerHTML:"?"}):L(D,{tone:parseInt(f,10),class:"w-2 h-2"})},d=h=>{const f=h.value;return L("div",{innerHTML:f||"?"})},p=h=>{const f=h.value;return L("div",{innerHTML:f?f.replace("v","\xFC"):"?"})},i=h=>{h===""?e("update:value",g(y({},t.value),{tone:void 0})):e("update:value",g(y({},t.value),{tone:parseInt(h,10)}))},v=h=>{h===""?e("update:value",g(y({},t.value),{initial:void 0})):e("update:value",g(y({},t.value),{initial:h}))},m=h=>{h===""?e("update:value",g(y({},t.value),{final:void 0})):e("update:value",g(y({},t.value),{final:h}))},T=h=>{u.compositing||(h=h.trim(),h===""?e("update:value",g(y({},t.value),{zi:void 0})):e("update:value",g(y({},t.value),{zi:h})))};return(h,f)=>(o(),c("div",Ce,[r("div",ke,[_(n(E),{options:a(["","1","2","3","4"]),"render-label":l,value:s.value.tone,onUpdateValue:i},{default:x(()=>[r("button",be,[s.value.tone?(o(),w(D,{key:1,tone:s.value.tone,class:"w-2 h-2"},null,8,["tone"])):(o(),c("span",$e,"?"))])]),_:1},8,["options","value"])]),r("div",we,[_(n(E),{options:a(["",...n(O)]),value:s.value.initial,"render-label":d,scrollable:"",tabindex:"-1",onUpdateValue:v},{default:x(()=>[r("button",Le,[s.value.initial?(o(),c("span",ze,k(s.value.initial),1)):(o(),c("span",Fe,"?"))])]),_:1},8,["options","value"]),_(n(E),{options:a(["",...n(S)]),value:s.value.final,"render-label":p,scrollable:"",tabindex:"-1",onUpdateValue:m},{default:x(()=>[r("button",Ue,[s.value.final?(o(),c("span",Ee,k(s.value.final.replace("v","\xFC")),1)):(o(),c("span",Me,"?"))])]),_:1},8,["options","value"])]),r("div",null,[r("input",{type:"text",class:"w-full h-20 text-4xl text-center border border-gray-500/20 focus:border-gray-500/60 outline-none",value:s.value.zi,onCompositionstart:f[0]||(f[0]=M=>n(u).compositing=!0),onCompositionend:f[1]||(f[1]=M=>n(u).compositing=!1),onKeyup:f[2]||(f[2]=M=>T(M.target.value))},null,40,Ne)])]))}}),V=b({props:{checked:{type:Boolean},checkedClass:null},emits:["update:checked"],setup(s){return(e,t)=>(o(),c("div",{class:I(["flex justify-center items-center text-gray-500/60 hover:bg-gray-200/40 cursor-default select-none",{[s.checkedClass]:s.checked}]),onClick:t[0]||(t[0]=u=>e.$emit("update:checked",!s.checked))},[X(e.$slots,"default")],2))}}),Be={class:"space-y-1"},De={class:"flex items-center"},je=r("div",{class:"px-2"},"\u58F0\u8C03",-1),Ae={class:"flex-1 flexible-grid"},He={class:"flex items-start"},Ie=r("div",{class:"px-2 pt-0.5"},"\u58F0\u6BCD",-1),Oe={class:"flex-1 flexible-grid"},Se={class:"p-0.5"},Te={class:"flex items-start"},qe=r("div",{class:"px-2 pt-0.5"},"\u97F5\u6BCD",-1),Re={class:"flex-1 flexible-grid"},Ze={class:"p-0.5"},H=b({props:{rules:null,checkedClass:null},emits:["update:rules"],setup(s,{emit:e}){const t=s;function u(d,p){return t.rules.some(i=>i[d]===p)}function a(d,p,i){const v=t.rules.findIndex(m=>m[d]===p);if(i){if(v>=0)throw"should never reach";{const m=B(t.rules);m.push(g(y({},l),{[d]:p})),e("update:rules",m)}}else{if(v<0)throw"should never reach";{const m=B(t.rules);m.splice(v,1),e("update:rules",m)}}}const l={zi:void 0,initial:void 0,final:void 0,tone:void 0};return(d,p)=>(o(),c("div",Be,[r("div",De,[je,r("div",Ae,[(o(),c(C,null,F([1,2,3,4],i=>_(V,{key:i,checked:u("tone",i),"checked-class":s.checkedClass,"onUpdate:checked":v=>a("tone",i,v)},{default:x(()=>[_(D,{tone:i,class:"w-4 h-4"},null,8,["tone"])]),_:2},1032,["checked","checked-class","onUpdate:checked"])),64))])]),r("div",He,[Ie,r("div",Oe,[(o(!0),c(C,null,F(n(O),i=>(o(),w(V,{key:i,checked:u("initial",i),"checked-class":s.checkedClass,"onUpdate:checked":v=>a("initial",i,v)},{default:x(()=>[r("span",Se,k(i),1)]),_:2},1032,["checked","checked-class","onUpdate:checked"]))),128))])]),r("div",Te,[qe,r("div",Re,[(o(!0),c(C,null,F(n(S),i=>(o(),w(V,{key:i,checked:u("final",i),"checked-class":s.checkedClass,"onUpdate:checked":v=>a("final",i,v)},{default:x(()=>[r("span",Ze,k(i.replace("v","\xFC")),1)]),_:2},1032,["checked","checked-class","onUpdate:checked"]))),128))])]),$("",!0)]))}});function Pe(){return new Worker("/handle-play/assets/search.7003f5ad.js",{type:"module"})}function We(s){const e=z({ready:!1,busy:!1}),t=ee(null);for(let l=0;l<4;l++)s.exact.push({zi:void 0,initial:void 0,final:void 0,tone:void 0});const u=new Pe;return u.addEventListener("message",l=>{l.data&&l.data.action==="READY"&&(e.ready=!0),l.data&&l.data.action==="RESULT"&&(t.value=l.data.result,e.busy=!1)}),{state:e,search:()=>{u.postMessage({action:"SEARCH",ruleSet:B(s)}),e.busy=!0},result:t}}const Ye={class:"w-[24rem] md:w-[36rem] mx-auto px-2 py-4"},Ke={class:"flex items-center justify-center gap-2"},Ge={class:"text-center pt-4 mt-4 border-t border-gray-200"},Je=["disabled"],Qe=U("\u8F7D..."),Xe=U("\u641C..."),et=U("\u641C!"),tt=b({setup(s){const e=z({exact:[],fuzzy:[],negative:[]}),{state:t,search:u,result:a}=We(e);return(l,d)=>{const p=ve;return o(),c(C,null,[r("div",Ye,[_(n(te),{"default-expanded-names":["exact"]},{default:x(()=>[_(n(N),{title:"\u7CBE\u51C6\u641C",name:"exact"},{default:x(()=>[r("div",Ke,[(o(!0),c(C,null,F(n(e).exact,(i,v)=>(o(),w(Ve,{key:v,value:n(e).exact[v],"onUpdate:value":m=>n(e).exact[v]=m},null,8,["value","onUpdate:value"]))),128))])]),_:1}),_(n(N),{title:"\u6A21\u7CCA\u641C",name:"fuzzy"},{default:x(()=>[_(H,{rules:n(e).fuzzy,"onUpdate:rules":d[0]||(d[0]=i=>n(e).fuzzy=i),"checked-class":"!text-orange-300"},null,8,["rules"])]),_:1}),_(n(N),{title:"\u6392\u9664\u641C",name:"negative"},{default:x(()=>[_(H,{rules:n(e).negative,"onUpdate:rules":d[1]||(d[1]=i=>n(e).negative=i),"checked-class":"!text-red-700"},null,8,["rules"])]),_:1})]),_:1}),r("div",Ge,[r("button",{class:"btn btn-primary py-2 text-xl flex w-full",disabled:!n(t).ready||n(t).busy,onClick:d[2]||(d[2]=(...i)=>n(u)&&n(u)(...i))},[n(t).ready?n(t).busy?(o(),c(C,{key:1},[Xe],64)):(o(),c(C,{key:2},[et],64)):(o(),c(C,{key:0},[Qe],64))],8,Je)])]),_(p,{result:n(a)},null,8,["result"])],64)}}}),st={class:"text-center"},nt=r("header",{class:"h-16 flex items-center justify-center bg-white border-b border-gray-200"},[r("div",{class:"inline-flex items-center text-3xl font-medium text-gray-900 tracking-widest"}," \u6C49\u515C\u641C\u641C ")],-1),at=b({setup(s){return(e,t)=>(o(),c("div",st,[nt,_(tt)]))}});se(at).mount("#app");
